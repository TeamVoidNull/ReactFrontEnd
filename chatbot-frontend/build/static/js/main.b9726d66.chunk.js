(this["webpackJsonpchatbot-frontend"]=this["webpackJsonpchatbot-frontend"]||[]).push([[0],{133:function(e,t,n){},269:function(e,t,n){"use strict";n.r(t);var s=n(10),c=n.n(s),i=n(124),a=n.n(i),o=(n(133),n(40)),r=n.p+"static/media/rose_name.692504eb.png",l=n(1);function d(){return Object(l.jsxs)("div",{className:"login-container",children:[Object(l.jsx)("img",{id:"roseLogo",src:r,alt:""}),Object(l.jsxs)("div",{className:"webLink",onClick:function(){return window.open("https://www.rose-hulman.edu/")},children:[Object(l.jsx)("i",{className:"bi bi-compass"}),Object(l.jsx)("a",{children:"rose-hulman.edu"})]})]})}var b=n(56),u=n(55),j=n.n(u),g=new(n(81).DirectLine)({secret:"8UnS-Ty383E.t3MkpbLf4CSdFUedsQmx0N0J_dkfknRJl-mHgvTPMiM"}),h="roseqnamakertemp-bot",m="User",f="You";function O(){var e=Object(s.useState)([{message:"Hello, This is Rosie.  What questions do you have?",sender:1,title:"",linky:"",addon:0}]),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(s.useState)(""),a=Object(o.a)(i,2),r=a[0],d=a[1],u=s.useCallback((function(e){if(e.from.id===h){var t=function(e){var t=e.match(/\[(.*?)\]/g),n=[];if(t)for(var s=0;s<t.length;++s){var c=t[s];n.push(c.substring(1,c.length-1))}return n.length>0?n[0]:""}(e.text),s="",i=0,a=e.text;t.length>0&&(s=function(e){var t=e.match(/\(([^)]+)\)/),n=[];if(t)for(var s=0;s<t.length;++s){var c=t[s];n.push(c.substring(1,c.length-1))}return n.length>0?n[0]:""}(e.text),i=1,a=a.substring(0,a.indexOf("[")),e.text.includes("![")&&(i=2,a=a.substring(0,a.length-1),console.log(s))),c([].concat(Object(b.a)(n),[{message:a,sender:1,title:t,linky:s,addon:i}])),console.log("something happened")}}),[n]);s.useEffect((function(){g.activity$.subscribe((function(e){return u(e)}))}),[u]);return Object(l.jsxs)("div",{className:"chat-container",children:[Object(l.jsx)("div",{className:"header-container",children:Object(l.jsx)("a",{children:"Rose Chatbot"})}),Object(l.jsx)("div",{className:"chatbox",children:n.map((function(e,t){return 0===e.addon?Object(l.jsx)("div",{className:j()({message:!0,bot:1===e.sender}),children:e.message},"message-".concat(t)):1===e.addon?Object(l.jsxs)("div",{className:j()({message:!0,bot:1===e.sender}),children:[Object(l.jsx)("a",{children:e.message}),Object(l.jsx)("br",{}),Object(l.jsx)("a",{href:e.linky,children:e.title})]},"message-".concat(t)):2===e.addon?Object(l.jsxs)("div",{className:j()({message:!0,bot:1===e.sender}),children:[Object(l.jsx)("a",{children:e.message}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("img",{src:e.linky})]},"message-".concat(t)):void 0}))}),Object(l.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),""!==r&&(g.postActivity({from:{id:m,name:f},type:"message",text:r}).subscribe((function(e){return console.log("Posted activity, assigned ID ",e)}),(function(e){return console.log("Error posting activity",e)})),c([].concat(Object(b.a)(n),[{message:r,sender:0,title:"",linky:"",addon:0}])),d(""))}(e)},children:[Object(l.jsx)("input",{type:"text",id:"message",value:r,placeholder:"Type your message here",onChange:function(e){return d(e.target.value)}}),Object(l.jsx)("i",{className:"bi bi-send",onClick:function(){""!==r&&(g.postActivity({from:{id:m,name:f},type:"message",text:r}).subscribe((function(e){return console.log("Posted activity, assigned ID ",e)}),(function(e){return console.log("Error posting activity",e)})),c([].concat(Object(b.a)(n),[{message:r,sender:0,title:"",linky:"",addon:0}])),d(""))}})]})]})}var x=n(128),v=Object(x.a)("http://localhost:8001/");var p=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){v&&!n&&(c(!0),v.on("connected",(function(){console.log("Connected to backend.")})))}),[]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(d,{}),Object(l.jsx)(O,{})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,271)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),i(e),a(e)}))};n(268);a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root")),y()}},[[269,1,2]]]);
//# sourceMappingURL=main.b9726d66.chunk.js.map