(this["webpackJsonpchatbot-frontend"]=this["webpackJsonpchatbot-frontend"]||[]).push([[0],{13:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(8),i=n.n(c),r=(n(13),n(3)),o=n.p+"static/media/rose_name.692504eb.png",b=n(0);function d(){return Object(b.jsxs)("div",{className:"login-container",children:[Object(b.jsx)("img",{id:"roseLogo",src:o,alt:""}),Object(b.jsxs)("div",{className:"webLink",onClick:function(){return window.open("https://www.rose-hulman.edu/")},children:[Object(b.jsx)("i",{className:"bi bi-compass"}),Object(b.jsx)("a",{children:"rose-hulman.edu"})]})]})}var l=n(6),u=n(5),h=n.n(u);function j(){var e=Object(s.useState)([{message:"Hello, This is Rosie.  What questions do you have?",sender:1,title:"",linky:"",addon:0}]),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(""),i=Object(r.a)(c,2),o=i[0],d=i[1],u=function(e,t){var n=function(e){var t=e.match(/\[(.*?)\]/g),n=[];if(t)for(var s=0;s<t.length;++s){var a=t[s];n.push(a.substring(1,a.length-1))}return n.length>0?n[0]:""}(e),s="",c=0,i=e;n.length>0&&(s=function(e){var t=e.match(/\(([^)]+)\)/),n=[];if(t)for(var s=0;s<t.length;++s){var a=t[s];n.push(a.substring(1,a.length-1))}return n.length>0?n[0]:""}(e),c=1,i=i.substring(0,i.indexOf("[")),e.includes("![")&&(c=2,i=i.substring(0,i.length-1),console.log(s))),a([].concat(Object(l.a)(t),[{message:i,sender:1,title:n,linky:s,addon:c}]))};return Object(b.jsxs)("div",{className:"chat-container",children:[Object(b.jsx)("div",{className:"header-container",children:Object(b.jsx)("a",{children:"Rose Chatbot"})}),Object(b.jsx)("div",{className:"chatbox",children:n.map((function(e,t){return 0===e.addon?Object(b.jsx)("div",{className:h()({message:!0,bot:1===e.sender}),children:e.message},"message-".concat(t)):1===e.addon?Object(b.jsxs)("div",{className:h()({message:!0,bot:1===e.sender}),children:[Object(b.jsx)("a",{children:e.message}),Object(b.jsx)("br",{}),Object(b.jsx)("a",{href:e.linky,children:e.title})]},"message-".concat(t)):2===e.addon?Object(b.jsxs)("div",{className:h()({message:!0,bot:1===e.sender}),children:[Object(b.jsx)("a",{children:e.message}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("img",{src:e.linky})]},"message-".concat(t)):void 0}))}),Object(b.jsxs)("form",{onSubmit:function(e){return function(e){if(e.preventDefault(),""!==o){var t=[].concat(Object(l.a)(n),[{message:o,sender:0,title:"",linky:"",addon:0}]);a(t),d(""),fetch("https://chattest2-b663.azurewebsites.net/qnamaker/knowledgebases/6478d078-6145-414f-bfa1-816bacc6c8bf/generateAnswer",{method:"POST",headers:{"Content-Type":"application/json",Host:"https://chattest2-b663.azurewebsites.net/qnamaker",Authorization:"EndpointKey 590342a0-c347-418f-9bc4-1a35c8ceec84"},body:JSON.stringify({question:o})}).then((function(e){return console.log("Request complete! Parsing body"),e.json()})).then((function(e){u(e.answers[0].answer,t)}))}}(e)},children:[Object(b.jsx)("input",{type:"text",id:"message",value:o,placeholder:"Type your message here",onChange:function(e){return d(e.target.value)}}),Object(b.jsx)("i",{className:"bi bi-send",onClick:function(){if(""!==o){var e=[].concat(Object(l.a)(n),[{message:o,sender:0,title:"",linky:"",addon:0}]);a(e),d(""),fetch("https://chattest2-b663.azurewebsites.net/qnamaker/knowledgebases/6478d078-6145-414f-bfa1-816bacc6c8bf/generateAnswer",{method:"POST",headers:{"Content-Type":"application/json",Host:"https://chattest2-b663.azurewebsites.net/qnamaker",Authorization:"EndpointKey 590342a0-c347-418f-9bc4-1a35c8ceec84"},body:JSON.stringify({question:o})}).then((function(e){return console.log("Request complete! Parsing body"),e.json()})).then((function(t){u(t.answers[0].answer,e)}))}}})]})]})}var g=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2);return t[0],t[1],Object(s.useEffect)((function(){}),[]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(d,{}),Object(b.jsx)(j,{})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),c(e),i(e)}))};n(15);i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),f()}},[[16,1,2]]]);
//# sourceMappingURL=main.a47ec5ef.chunk.js.map